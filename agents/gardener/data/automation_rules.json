{
  "version": "1.0",
  "rules": [
    {
      "id": "ai-agent-periodic-run",
      "name": "AI Agent Periodic Analysis",
      "description": "Run AI agent every 2 hours to analyze system health and optimize settings",
      "enabled": false,
      "protected": true,
      "priority": 1000,
      "conditions": {
        "all_of": [
          {
            "type": "cron",
            "expression": "0 */2 * * *",
            "description": "Every 2 hours at the top of the hour"
          }
        ]
      },
      "actions": [
        {
          "type": "run_ai_agent",
          "prompt": "Analyze the current system state including all sensor readings, historical trends over the past 24 hours, and camera feed. Check for any concerning patterns or anomalies. Recommend and implement any necessary adjustments to optimize plant health and system efficiency. Be proactive but cautious with actuator changes.",
          "temperature": 0.3,
          "max_iterations": 6
        }
      ]
    },
    {
      "id": "example-light-schedule",
      "name": "Example Light Schedule",
      "description": "Turn lights on during the day (example rule - disabled by default)",
      "enabled": false,
      "protected": false,
      "priority": 100,
      "conditions": {
        "all_of": [
          {
            "type": "time_range",
            "start_time": "06:00",
            "end_time": "22:00",
            "timezone": "America/Los_Angeles"
          },
          {
            "type": "days_of_week",
            "days": [
              "monday",
              "tuesday",
              "wednesday",
              "thursday",
              "friday",
              "saturday",
              "sunday"
            ]
          }
        ]
      },
      "actions": [
        {
          "type": "set_actuator",
          "device_key": "hydro-station-1",
          "actuator_key": "relay1",
          "state": "on"
        }
      ]
    },
    {
      "id": "example-temperature-control",
      "name": "Example Temperature Control",
      "description": "Turn on fan if temperature exceeds 28Â°C (example rule - disabled by default)",
      "enabled": false,
      "protected": false,
      "priority": 200,
      "conditions": {
        "all_of": [
          {
            "type": "sensor_threshold",
            "device_key": "hydro-station-1",
            "metric_key": "temperature",
            "operator": "greater_than",
            "value": 28.0
          }
        ]
      },
      "actions": [
        {
          "type": "set_actuator",
          "device_key": "hydro-station-1",
          "actuator_key": "relay2",
          "state": "on"
        }
      ]
    },
    {
      "id": "example-water-level-low",
      "name": "Example Low Water Level Alert",
      "description": "Turn on pump if water level is low (example rule - disabled by default)",
      "enabled": false,
      "protected": false,
      "priority": 300,
      "conditions": {
        "all_of": [
          {
            "type": "sensor_threshold",
            "device_key": "hydro-station-1",
            "metric_key": "water_level",
            "operator": "less_than",
            "value": 20.0
          }
        ]
      },
      "actions": [
        {
          "type": "set_actuator",
          "device_key": "hydro-station-1",
          "actuator_key": "relay3",
          "state": "on"
        }
      ]
    }
  ],
  "metadata": {
    "created_at": "2025-10-07T00:00:00Z",
    "last_modified": "2025-10-21T00:00:00Z",
    "modified_by": "system"
  }
}
